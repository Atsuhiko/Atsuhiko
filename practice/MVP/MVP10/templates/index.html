<!-- app.py で Customize Directive -->
<!-- https://www.subarunari.com/entry/2017/09/30/003944 -->
<% extends "base.html" %>
<% block content %>

<div style="text-align:center;">

<font size="5">
    ファイルを選択して送信してください
</font>
<hr>

<form action = "./" method = "POST" enctype = "multipart/form-data">
    <input type="file" name="image" accept="image/png, image/jpeg">
    <input type = "submit"/>
</form>
<hr>

<!-- Vue.js デモ -->
<!-- 011_v-on?1.html 参照 -->
<div id="app" class="app">
    <p>{{ number }}回クリックされています</p>
    <button v-on:click="number +=1">カウントアップ</button>
</div>


<script>
new Vue({
    el: '#app',   // # で id と関係づける
    data: {
  	    number: 0
    }
})
</script>
<!-- Vue.js デモ終わり -->

<% if prediction %>
    <hr>
    <img src="./images/<< filepath >>" style="margin-top: 10px; vertical-align: bottom; width: 300px"><br>
    <hr>
    <font size="4"><b>予測結果: << prediction >></b></font><br>
    <font size="3">
        File: << filepath >><br>
        <!-- Save path: {{ save_path }}<br> -->
        Dog: << dog >><br>
        Cat: << cat >><br>
    </font>
    <hr>


    <div id="vue_test">
        犬み：　{{ message }}<br>
        結果：　{{ message2 }}
        <div v-if="message2==='cat'">この子は、ねこちゃんです</div>
        <div v-if="message2==='dog'">この子は、わんちゃんです</div>
    </div>

    <div id="survey">
        <button class="button1">合っています</button>
        <button class="button1">違います</button>
    </div>

    <script>
        var mvp10_test = new Vue({
            el: '#vue_test',
            data: {
                message: "<< dog >>",
                message2: "<< prediction >>"
            }
        })
    </script>
    <hr>
<% endif %>

<% if results %>
    <br>
    <font size="2">
        <table border="1" align="center" width=600>
            <tr>
                <th>id</th>
                <th>filepath</th>
                <th>prediction</th>
                <th>dog</th>
                <th>cat</th>
            </tr>
            <% for result in results %>
                <tr>
                    <td><< result.id >></td>
                    <td><< result.filepath >></td>
                    <td><< result.prediction >></td>
                    <td><< result.dog >></td>
                    <td><< result.cat >></td>
                </tr>
            <% endfor %>
        </table>
    </font>
    <br>
    <hr>

<% endif %>

</div>

<% endblock %>